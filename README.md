# 智能LED控制器
该LED控制器用于吸顶灯、灯带、台灯的控制，使用12-48V电源供电(使用Buck驱动，电源电压必须高于灯的电压)，使用经过编码的RS485通信。计划PCB采用双面板，板上最多可焊4个LED驱动电路

经过平衡安全性、稳定性、传输效率、可扩展性、总成本等因素的考量，我设计家庭小功率电器总线采用不超过直流60V的SELV供电。使用两根直流电源线（不接地）和一对差分通信线。  
为了防止通信线(RS485)误接电源线造成过压等原因导致芯片等元器件损坏，我参考网上资料设计了一套保护电路。其中甚至牺牲了一些兼容性，让数据经过直流平衡的编码后再传输，这样信号能顺利通过电容，误接直流电时后面电路只有一个脉冲，大大减轻TVS管负荷。  

# 主要元器件列表
|  名称  |     型号     |    参数     |
|:------:|:-------------|:------------|
|MCU     |候选PY32F003F1|QFN20封装    |
|DCDC转换|OC5864        |最高60V输入, 0.6A|
|LED驱动 |OC5028B/OC5020B|100V 1.2A/2A|
|通信芯片|候选MAX485    |最高2.5Mbps  |

其他元器件请通过KiCAD生成BOM表获取

# 构建PCB工程
为了减少git仓库占用空间，我在`git commit`提交前在KiCad中清除所有填充域(快捷键Ctrl+B)，您可以在打开后重新填充(快捷键B)
在KiCad的Python控制台中，切换到该repo根目录运行下例命令
````python
import build
build.all()
```
即可自动完成添加泪滴、重新填充、应用PCB背面信息字符串

# 版权和许可证
Copyright (C) 2025  徐瑞骏  
本设计以CERN开放硬件许可证第二版强互惠授权(CERN Open Hardware Licence Version 2 - Strongly Reciprocal)，许可证文件位于`cern_ohl_s_v2.txt`  
本设计不提供任何保证  
